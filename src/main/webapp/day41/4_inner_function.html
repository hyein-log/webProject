<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
var arr = [ "aliceblue", "lavender", "beige", "mistyrose" ];

	window.onload = function() { //익명함수이면서 콜백
		here.innerHTML = "자바스크립트 내장함수 연습하기";
		//call();
		btn1.onclick = call;
		btn2.onclick = call2;
		btn3.onclick = call3;
		btn4.onclick = call4;
		btn5.onclick = call5;
		btn6.onclick = call6;
		btn7.onclick = call7;
		btn8.onclick = call8;
	};
	window.onmousemove = function(){
		clearInterval(interval);
	}
	function call(){
		//화살표함수(==다른언어는 람다식)
		interval = setInterval(() => {
			var su = Math.floor(Math.random()*arr.length);
			document.bgColor = arr[su];
		}, 1000);
	};
	function call2(){
		var uri = "http://localhost:9090/webProject/day41/4_inner_function.html";
		var result = encodeURIComponent(uri);
		here.innerHTML = result;
		here.innerHTML +="<br>"+decodeURIComponent(result);
	};
	function call3(){
		var str = "var a= 10; var b=20; alert(a+b);";
		here.innerHTML = str;
		eval(str);
	};
	function call4(){
		var a = Number(document.querySelector("#num1").value);
		var op = document.querySelector("#op").value;
		var b = Number(document.querySelector("#num2").value);
// 		var result = a+op+b;
// 		document.querySelector("#result").value = eval(result);
		if(op=="+"){
			result = a+b;
		}else if(op=="-"){
			result = a-b;
		}else if(op=="*"){
			result = a*b;
		
		}else if(op=="/"){
			result = a/b;
		
		}else if(op=="%"){
			result = a%b;
		}
		document.querySelector("#result").value = result;
	};
	function call5(){
		var a = NaN;
		var b = NaN;
		here,innerHTML = isNaN(a)==isNaN(b);
	};
	
	function call6(){
		test(10,20,30);
		test(10);
	};
	//매개변수에 값이 전달되지 않은 경우 undefined인데
	//이에 대한 초기값을 할당하는 방법
	//방법1
	function test(a,b,c){
		if(!b) b = 200;
		if(!c) c = 300;
		here.innerHTML = a+b+c;
	};
	//방법2
	function test(a,b,c){
		b =b || 1000;
		c =c || 2000;
		here.innerHTML = a+b+c;
	};
	//방법3
	function test(a,b=1,c=2){
		here.innerHTML = a+b+c;
	};
	
	function call7(){
		//1.익명함수
		var f = function(a, b){return a+b;};
		//2.화살표함수
		var f2 = (a,b)=>a+b;
		here.innerHTML = f(1,3)+f2(100,400);
	};
	
	function call8(){
		call9(1,2,3);
		var arr =[100,200,300];
		call9(...arr);//전개연산자로 보내기
	};
	function call9(...nums){ //전개연산자로 받기
	//	here.innerHTML = arguments[0]+arguments[1]+arguments[2];
		here.innerHTML = nums[0]+nums[1]+nums[2];
	}
</script>
</head>
<body>
	<h1>자바스크립트 내장함수</h1>
	<button id="btn1">배경색바꾸기</button>
	<button id="btn2">encode</button>
	<button id="btn3">eval</button>
	<hr>
	<input type = "number" id = "num1">
	<select id = "op">
	<option>+</option>
	<option>-</option>
	<option>/</option>
	<option>*</option>
	<option>%</option>
	</select>
	<input type = "number" id = "num2">
	<button id="btn4">=</button>
	<input type = "text" id = "result">
	<hr>
	<button id="btn5">NaN</button>
	<button id="btn6">초기값</button>
	<button id="btn7">익명함수, 화살표함수(==람다식)</button>
	<button id="btn8">전개연산자</button>
	
	<div id="here">여기</div>
</body>
</html>